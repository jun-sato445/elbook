CREATE TABLE m_book (
book_id int not null auto_increment primary key,
title varchar(99),
author varchar(20), 
main_category int,
max_num int,
entry_day date default (current_date),
updatetime date,
isdeleted int default 0,
page int,
guideline int,
description varchar(256)
);



CREATE TABLE m_user (
user_id int auto_increment primary key,
user_name varchar(20),
mail varchar(256) unique,
pass varchar(16)  default '9999',
admin_flg int default 0,
join_day date,
entry_day date  default (current_date),
updatetime date,
isdeleted int default 0
);



CREATE TABLE m_category (
category_id int not null auto_increment primary key,
category varchar(99) unique,
entry_day date default(current_date),
updatetime date not null,
isdeleted int default 0
);



CREATE TABLE t_history (
book_id int references m_book(book_id),
user_id int references m_user(user_id),
loan_day date,
returned_day date default(current_date),
primary key(book_id,user_id)
);


CREATE TABLE t_inquiry (
inquiry_id int auto_increment primary key,
use_id int references m_user(user_id),
category varchar(99) references m_category(category),
inquiry_contents varchar(999) not null,
inquiry_day date not null default(current_date)
);




CREATE TABLE t_loan (
book_id int not null references m_book(book_id),
user_id int not null references m_user(user_id),
loan_day date default(current_date),
return_day date not null,
primary key(book_id,user_id)
);